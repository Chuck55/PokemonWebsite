<html>
<head>
<title> 100IV Pokemon </title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
<link rel="stylesheet" type="text/css" href="/src/stylesPages.css">
<link rel="stylesheet" type="text/css" href="/src/dropdown.css">
<script src="/scrollbar.js"> </script>

<script type="text/javascript">
  function addStuff(name) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          var data = JSON.parse(this.responseText);
          console.log(data.owner);
          if (data.owner == "Kyue") {            
            addTable(data, "Kyue55_Pokemon");
          } else if (data.owner == "BlackestNight") {
            addTable(data, "Blackest_Night_Pokemon");
          } else if (data.owner == "BrightestDawn") {
            addTable(data, "Brightest_Dawn_Pokemon");
          } else if (data.owner == "Watermelon") {
            addTable(data, "Watermelon_Pokemon");
          }
        }
    };
    xhttp.open("POST", "/getJSON", true);
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    var stuff = "fname=" + name;
    xhttp.send(stuff);
  }
  addStuff("KyueIV");
  addStuff("BlackestIV");
  addStuff("WatermelonIV");
  addStuff("BrightestIV");

    function addTable(data, id) {
      var i = 0;
      for(i = 0; i < data.IV.length; i++) {
        var name = JSON.stringify(data.IV[i].pokemonName).slice(1,-1);
        var number = JSON.stringify(data.IV[i].numberOfPokemon).slice(1,-1);
        var owner = JSON.stringify(data.IV[i].ownerOfPokemon).slice(1,-1);
        if (i%2 == 1) {
          var tblRow = "<tr style=background-color:#ddd;>" + "<td>" + name + "</td>" + "<td>" + number + "</tr>";
        } else {
          var tblRow = "<tr style=background-color:#FFF0F5;>" + "<td>" + name + "</td>" + "<td>" + number + "</td>" + "</tr>";
        }
       document.getElementById(id).innerHTML += tblRow;
            }
    }
</script>
</head>
<body class = "background_color">
  <div id = "navbar" class = "main_header font">100IV Pokemon
    <div id="header"></div>
  </div>    

    <table class = "content">
      <td valign = "top">
        <h2 class = "font second_header">Kyue55</h2>
          <table id= "Kyue55_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of 100IV</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>

      <td valign = "top">
        <h2 class = "font second_header">Watermelon</h2>
          <table id= "Watermelon_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of 100IV</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>

      <td valign = "top">
        <h2 class = "font second_header">Brightest Dawn</h2>
          <table id= "Brightest_Dawn_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of 100IV</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>

      <td valign = "top">
        <h2 class = "font second_header">Blackest Night</h2>
          <table id = "Blackest_Night_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of 100IV</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>
    </table>
  </div>
  <div id="footer"></div>
</body>
<script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous">
</script>
<script>
  $(function(){
  $("#footer").load("footer"); 
  $("#header").load("header"); 

});
</script>
</html>
