<html>
<head>
  <title> Shiny Pokemon </title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
<link rel="stylesheet" type="text/css" href="/src/stylesPages.css">
<link rel="stylesheet" type="text/css" href="/src/dropdown.css">
<script src="/scrollbar.js"> </script>

<script type="text/javascript">
  function addStuff(name) {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          var data = JSON.parse(this.responseText);
          if (name == "KSWShiny") {   
            console.log(data);   
            addTable(data, "Kyue55_Pokemon");
          } else if (name == "BlackestNightShiny") {
            addTable(data, "Blackest_Night_Pokemon");
          } else if (name == "BrightestDawnShiny") {
            addTable(data, "Brightest_Dawn_Pokemon");
          } else if (name == "WaterMelonShiny") {
            addTable(data, "Watermelon_Pokemon");
          } else if (name == "FanguangTheBestShiny") {
            addTable(data, "FanguangTheBest_Pokemon");
          }
        }
    };
    xhttp.open("POST", "/getSQL", true);
    xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    var stuff = "fname=" + name;
    xhttp.send(stuff);

  }

  addStuff("KSWShiny");
  addStuff("BlackestNightShiny");
  addStuff("WaterMelonShiny");
  addStuff("BrightestDawnShiny");
  addStuff("FanguangTheBestShiny");

    function addTable(data, id) {
      var i = 0;
      console.log(JSON.stringify(data.recordset[0].PokemonNumber));

      for(i = 0; i < data.recordset.length; i++) {
        var name = JSON.stringify(data.recordset[i].PokemonName).slice(1,-1);
        var number = JSON.stringify(data.recordset[i].PokemonNumber);
        if (i % 2 == 1) {
          var tblRow = "<tr style=background-color:#ddd;>" + "<td>" + name + "</td>" + "<td>" + number + "</td>" + "</tr>";
        } else {
          var tblRow = "<tr style=background-color:#FFF0F5;>" + "<td>" + name + "</td>" + "<td>" + number + "</td>" + "</tr>";
        }
       document.getElementById(id).innerHTML += tblRow;
      }
    }
</script>
</head>
  <body class = "background_color">
    <div id = "navbar" class = "main_header font">Shiny Pokemon
      <div id="header"></div>
    </div>
  
    <table class = "content">
      <td valign = "top">
        <h2 class = "font second_header">Kyue55</h2>
          <table id = "Kyue55_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of Shinies</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      <td>

      <td valign = "top">
        <h2 class = "font second_header">Watermelon</h2>
          <table id = "Watermelon_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of Shinies</th>
            </thead>
            <tbody>
            </tbody>
          </table>
        </td>
    
      <td valign = "top">
        <h2 class = "font second_header">Brightest Dawn</h2>
          <table id = "Brightest_Dawn_Pokemon" class = "pokemon_table font">
            <thead>
              <th>Pokemon</th>
              <th>Number of Shinies</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>

      <td valign = "top">
        <h2 class = "font second_header">Blackest Night</h2>
          <table id = "Blackest_Night_Pokemon" class = "pokemon_table font"> 
            <thead>
              <th>Pokemon</th>
              <th>Number of Shinies</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>
      
      <td valign = "top">
        <h2 class = "font second_header">Fanguang The Best</h2>
          <table id = "FanguangTheBest_Pokemon" class = "pokemon_table font"> 
            <thead>
              <th>Pokemon</th>
              <th>Number of Shinies</th>
            </thead>
            <tbody>
            </tbody>
          </table>
      </td>
    </table>
    <div id="footer"></div>
</body>
<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous">
</script>
<script>
  $(function(){
    $("#footer").load("footer"); 
    $("#header").load("header"); 
  });
</script>
</html>
